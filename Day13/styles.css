:root{
	--bg-0: #070812;
	--bg-1: #0c1624;
	--glass: rgba(255,255,255,0.06);
	--accent: #60a5fa;
	--hud-blur: 8px;
	--radius: 12px;
	--layer-h: 30px;
}

*{
    box-sizing:border-box
}

html,body{
    height:100%;
    margin:0;
    font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(96,165,250,0.06), transparent), linear-gradient(180deg,var(--bg-0), var(--bg-1));
    color:#e6eef8;
    -webkit-font-smoothing:antialiased;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px
}

.game-wrap{
    width:360px;
    max-width:96vw;
    height:640px;
    max-height:92vh;
    position:relative;
    display:block
}

/* 3D perspective container */
/* .game-wrap{
    perspective: 1100px;
    -webkit-perspective: 1100px;
} */

#game{
    width:100%;
    height:100%;
    background:linear-gradient(180deg, rgba(8,16,24,0.85), rgba(3,8,14,0.95));
    border-radius:var(--radius);
    overflow:hidden;
    position:relative;
    box-shadow:0 18px 40px rgba(2,6,23,0.65), inset 0 1px 0 rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.03)
}

/* tilt the playfield slightly to show depth */
#game{
    transform-style: preserve-3d;
    transform-origin: center bottom;
    transform: rotateX(18deg) translateZ(0);
}

.block{
    position:absolute;
    height:var(--layer-h);
    border-radius:6px;
    box-shadow:0 8px 20px rgba(2,6,23,0.6), 0 2px 6px rgba(0,0,0,0.6);
    transition:left 80ms linear, width 80ms linear, background-color 200ms linear;
    display:block
}

/* make individual blocks render in 3D space */
.block{
    transform-style: preserve-3d;
    backface-visibility: hidden;
    will-change: left, width, transform;
}

/* subtle underside and side to sell the 3D look */
.block::before{
    content:'';
    position:absolute;
    left:0;
    right:0;
    height:8px;
    top:-8px;
    border-radius:6px 6px 0 0;
    background:linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.02));
    transform-origin: center bottom;
    transform: rotateX(78deg) translateZ(6px);
    opacity:0.95;
}
.block::after{
    /* darker side edge */
    content:'';
    position:absolute;
    right:0;
    top:0;
    width:10px;
    bottom:0;
    border-radius:0 6px 6px 0;
    background: linear-gradient(90deg, rgba(0,0,0,0.22), rgba(0,0,0,0.02));
    transform: translateZ(4px) rotateY(6deg);
}

.block::after{
    content:'';
    position:absolute;
    left:6px;
    right:6px;
    top:4px;
    height:6px;
    border-radius:3px;
    background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02));
    opacity:0.9
}

.hud{
    position:absolute;
    left:12px;
    top:12px;
    display:flex;
    gap:10px;
    align-items:center;
    z-index:60
}

.hud .panel{
    backdrop-filter: blur(var(--hud-blur)); 
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); 
    border-radius:8px;
    padding:8px 10px;
    display:inline-flex;
    align-items:center;
    gap:8px
}

#level{
    font-weight:700;
    color:#e6eef8;
    font-size:14px
}

#restart{
    padding:6px 12px;
    background:linear-gradient(180deg,#ffffff,#f3f4f6);
    color:#0b1320;
    border-radius:8px;
    border:none;
    cursor:pointer;
    font-weight:700;
    box-shadow:0 6px 18px rgba(2,6,23,0.35);
    transition:transform 120ms ease
}

#restart:active{
    transform:translateY(1px)
}

.message{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    font-weight:800;
    background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.55));
    z-index:70;
    color:#e6eef8
}

.message.win{
    color: #bfe3ff;
    background:linear-gradient(180deg, rgba(6,30,60,0.5), rgba(2,7,18,0.7));
}

.hidden{display:none}

.controls-hint{
    position:absolute;
    right:12px;
    top:12px;
    color:rgba(230,238,248,0.7);
    font-size:12px;
    padding:6px 8px;
    border-radius:8px;
    background:rgba(255,255,255,0.02);
    backdrop-filter:blur(6px)
}

/* small visual indicator when approaching win: a subtle blue glow on top layers */
.block[style*="hsl(220"]{ 
    box-shadow: 0 10px 30px rgba(96,165,250,0.22), 0 2px 6px rgba(0,0,0,0.6);
}

@media (max-width:420px){
	.game-wrap{height:85vh}
	.message{font-size:18px}
}
